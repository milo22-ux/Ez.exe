local url = "https://pastebin.com/raw/ZwL9ABFQ"
local function fetch(url)
    if game and game:HttpGet then
        return game:HttpGet(url)
    elseif syn and syn.request then
        return syn.request({Url = url, Method = "GET"}).Body
    else
        error("No HTTP method available")
    end
end

local keys_text = fetch(url)
local keys = {}
for line in keys_text:gmatch("[^\r\n]+") do
    table.insert(keys, line)
end

getfenv = getfenv or {}
getfenv.key = "your_key_here"

local key = getfenv.key
local allowed = false
if key then
    for _, k in ipairs(keys) do
        if k == key then
            allowed = true
            break
        end
    end
end

if allowed then
    print("whitelisted")
else
    print("not whitelisted")
end
